<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Dashboard</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  body {
    display: flex;
    height: 100vh;
    overflow: hidden;
  }
  .sidebar {
    width: 220px;
    background-color: #f8f9fa;
    padding: 20px;
  }
  .sidebar a {
    display: block;
    padding: 10px;
    margin-bottom: 5px;
    text-decoration: none;
    color: #333;
    border-radius: 5px;
  }
  .sidebar a.active {
    background-color: #0d6efd;
    color: white;
  }
  .content {
    flex-grow: 1;
    overflow-y: auto;
    padding: 20px;
  }
  .section {
    display: none;
  }
  .section.active {
    display: block;
  }
</style>
</head>

<body>

<!-- Sidebar -->
<div class="sidebar">
  <h4>Dashboard</h4>
  <a href="#profile" class="active">ğŸ‘¤ Profile</a>
  <a href="#logHelp">ğŸ“ Log Help</a>
  <a href="#requestHelp">ğŸ“„ Request Help</a>
  <a href="#myLogs">ğŸ“„ My Logs</a>
  <a href="#pendingApprovals">âœ… Pending Approvals</a>
  <a href="#availableRequests">ğŸ“„ Available Requests</a>
  <a href="#notices">ğŸ“‹ Notices</a>
  <a href="#attendance">ğŸ“„ Attendance</a>
  <a href="#assignments">ğŸ“„ Assignments</a>
  <a href="#leave">ğŸ“„ Leave Requests</a>
</div>

<!-- Content -->
<div class="content">
  <div id="profile" class="section active">
    <h2>ğŸ‘¤ Profile</h2>
    <p>Name: <span id="myName"></span></p>
    <p>Credits: <span id="myCredits"></span></p>
  </div>

  <div id="logHelp" class="section">
    <h2>ğŸ“ Log Help</h2>
    <form id="logHelpForm">
      <select id="toUserId" class="form-select mb-2"></select>
      <input type="text" id="helpTask" class="form-control mb-2" placeholder="Task">
      <input type="number" id="helpHours" class="form-control mb-2" placeholder="Hours">
      <button class="btn btn-primary">Log Help</button>
    </form>
  </div>

  <div id="requestHelp" class="section">
    <h2>ğŸ“„ Request Help</h2>
    <form id="requestHelpForm">
      <input type="text" id="requestTask" class="form-control mb-2" placeholder="Task">
      <input type="number" id="requestCredits" class="form-control mb-2" placeholder="Credits">
      <button class="btn btn-success">Request Help</button>
    </form>
  </div>

  <div id="myLogs" class="section">
    <h2>ğŸ“„ My Logs</h2>
    <ul id="myLogsList">Loadingâ€¦</ul>
  </div>

  <div id="pendingApprovals" class="section">
    <h2>âœ… Pending Approvals</h2>
    <ul id="pendingApprovalsList">Loadingâ€¦</ul>
  </div>

  <div id="availableRequests" class="section">
    <h2>ğŸ“„ Available Requests</h2>
    <ul id="availableRequestsList">Loadingâ€¦</ul>
  </div>

  <div id="notices" class="section">
    <h2>ğŸ“‹ Notices</h2>
    <table class="table table-bordered" id="noticesTable">
      <thead>
        <tr><th>Title</th><th>Content</th><th>Target</th><th>Department</th><th>Year</th><th>Valid Till</th></tr>
      </thead>
      <tbody><tr><td colspan="6">Loading noticesâ€¦</td></tr></tbody>
    </table>
  </div>

  <div id="attendance" class="section">
    <h2>ğŸ“„ Attendance</h2>
    <ul id="myAttendance">Loadingâ€¦</ul>
  </div>

  <div id="assignments" class="section">
    <h2>ğŸ“„ Assignments</h2>
    <ul id="myAssignments">Loadingâ€¦</ul>
  </div>

  <div id="leave" class="section">
    <h2>ğŸ“„ Leave Requests</h2>
    <form id="studentLeaveForm">
      <input type="text" id="studentLeaveReason" class="form-control mb-2" placeholder="Reason">
      <select id="studentLeaveType" class="form-select mb-2">
        <option value="Sick">Sick</option>
        <option value="Casual">Casual</option>
        <option value="Emergency">Emergency</option>
        <option value="Other">Other</option>
      </select>
      <input type="date" id="studentFromDate" class="form-control mb-2">
      <input type="date" id="studentToDate" class="form-control mb-2">
      <button class="btn btn-primary">Submit</button>
    </form>

    <h3 class="mt-4">My Leave Requests</h3>
    <ul id="studentMyLeaves" class="list-group"></ul>
  </div>

</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const links = document.querySelectorAll('.sidebar a');
  const sections = document.querySelectorAll('.section');

  links.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();

      // Remove active from all
      links.forEach(l => l.classList.remove('active'));
      sections.forEach(s => s.classList.remove('active'));

      // Add active to clicked
      link.classList.add('active');
      const target = document.querySelector(link.getAttribute('href'));
      target.classList.add('active');
    });
  });
});
</script>

<script src="js/user.js"></script>
</body>
</html>
